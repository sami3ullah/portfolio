<div class="flex flex-col relative flex-1">
  <!-- TODO: fix mobile content shifting issue with animation -->
  <div class="header-side-text absolute right-0 mt-[65px]">
    <div class="w-full">
      <h3
        class="text-[18px] md:text-[36px] text-right font-bold text-textLight"
      >
        Software Engineer
      </h3>
      <p class="text-xs hidden md:block md:text-lg text-right text-textDullest">
        <span id="experience">4</span>+ Years of development experience
      </p>
      <p class="text-xs block md:hidden md:text-lg text-right text-textDullest">
        <span id="experience">4</span>+ Years of experience
      </p>
    </div>
    <hr
      class="side-text-seperator my-[16px] w-16 md:w-20 lg:w-[100%] border-0 h-[1px] ml-auto bg-darkBackground2"
    />
    <!-- contact info -->
    <div
      class="interactable contact-info text-textDullest text-right text-xs md:text-lg"
    >
      <div class="interactable-copy">Msami398@gmail.com</div>
      <!-- <div>+923441262697</div> -->
    </div>
  </div>
</div>

<script>
  import { getTotalExperience } from '../../utils/index.ts';
  import gsap from 'gsap';

  const experiences = document.querySelectorAll<HTMLElement>('#experience');
  experiences.forEach((experience) => {
    if (experience) {
      const totalExperience = getTotalExperience();
      experience.innerText = totalExperience.toString();
    }
  });

  gsap.from('.header-side-text h3', {
    x: 50,
    opacity: 0,
    ease: 'power4.inOut',
    delay: 0.5,
    duration: 1.3,
    stagger: {
      amount: 0.5,
    },
  });

  gsap.from('.side-text-seperator', {
    x: 300,
    opacity: 0,
    ease: 'power4.inOut',
    delay: 0.5,
    duration: 3,
    stagger: {
      amount: 0.5,
    },
  });

  gsap.from('.header-side-text p', {
    x: 50,
    opacity: 0,
    ease: 'power4.inOut',
    delay: 0.7,
    duration: 1.3,
    stagger: {
      amount: 0.5,
    },
  });

  gsap.from('.header-side-text .contact-info', {
    x: 100,
    opacity: 0,
    ease: 'power4.inOut',
    duration: 1.3,
    delay: 1,
    stagger: {
      amount: 0.3,
    },
  });
</script>
